# 프로젝트 실행 가이드

## 1단계: 사전 준비

### 1.1. 요구사항 확인
* Python 3.9 이상 설치 확인
* Git 설치 확인 (코드 복제 시 필요)

### 1.2. 프로젝트 복제 (필요시)
* `git clone <저장소_URL>` 명령어로 프로젝트 파일을 로컬 환경에 복제합니다.
* `cd <프로젝트_디렉토리>` 명령어로 프로젝트 루트 디렉토리로 이동합니다.

### 1.3. 가상환경 설정 (권장)
* 프로젝트별 의존성 관리를 위해 가상환경 사용을 권장합니다.
    ```bash
    python -m venv venv
    # Windows
    .\venv\Scripts\activate
    # macOS / Linux
    source venv/bin/activate
    ```

## 2단계: 환경 설정

### 2.1. API 키 설정
* 프로젝트 루트 디렉토리에서 `.env.example` 파일을 `.env` 파일로 복사합니다.
    ```bash
    # Linux/macOS: cp .env.example .env
    # Windows: copy .env.example .env
    ```
* 텍스트 편집기로 `.env` 파일을 열고, `OPENAI_API_KEY` 값을 실제 발급받은 OpenAI API 키로 교체한 후 저장합니다.

### 2.2. 의존성 설치
* 프로젝트 루트 디렉토리에서 다음 명령어를 실행하여 필요한 라이브러리를 설치합니다.
    ```bash
    pip install -r requirements.txt
    ```

## 3단계: RAG 데이터 준비

### 3.1. 원본 문서 추가
* 챗봇이 참조할 정보가 담긴 텍스트 파일(`.txt`)들을 `data/original/` 디렉토리 안에 준비합니다. (예: 사이즈 가이드, 제품 설명, FAQ 등)
* 최소 1개 이상의 문서가 필요합니다.

### 3.2. RAG 인덱스 생성
* 프로젝트 루트 디렉토리에서 다음 명령어를 실행하여 RAG 파이프라인을 구동합니다.
    ```bash
    python pipeline/rag_generator.py
    ```
* 이 과정은 문서 임베딩 및 인덱스 파일(`data/index.faiss`, `data/doc_meta.jsonl`) 생성을 수행하며, 문서 양에 따라 시간이 소요될 수 있습니다. 임베딩 모델이 로컬에 없는 경우 자동으로 다운로드됩니다.

## 4단계: 챗봇 서버 실행

### 4.1. FastAPI 서버 시작
* 프로젝트 루트 디렉토리에서 다음 명령어를 실행하여 웹 서버를 시작합니다.
    ```bash
    uvicorn chatbot.app:app --reload
    ```
* 서버가 정상적으로 시작되면 `http://127.0.0.1:8000` 주소에서 실행 중이라는 메시지가 나타납니다.

### 4.2. 챗봇 접속
* 웹 브라우저를 열고 `http://127.0.0.1:8000` 주소로 접속하여 채팅 인터페이스를 확인하고 테스트를 시작합니다.

## 5단계: 테스트 실행 (선택 사항)

### 5.1. 테스트셋 생성
* 자동화된 테스트 질문 세트를 생성하려면 다음 명령어를 실행합니다.
    ```bash
    python tests/test_generator.py
    ```
* 결과는 `tests/test_cases/` 디렉토리에 저장됩니다.

### 5.2. 테스트 실행
* 챗봇 서버가 실행 중인 상태에서 다음 명령어를 실행하여 테스트를 진행합니다.
    ```bash
    python tests/test_runner.py
    ```
* 테스트 결과는 `tests/test_results/` 디렉토리에 저장됩니다.

## 종료
* 서버 실행을 중지하려면 터미널에서 `Ctrl + C`를 누릅니다.
* 가상환경을 비활성화하려면 `deactivate` 명령어를 실행합니다.